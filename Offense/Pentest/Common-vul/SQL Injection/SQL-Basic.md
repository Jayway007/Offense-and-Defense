# Concept
SQL stands for Structured Query Language, leting you access and manipulate databases. SQL is a standard language, but there are different versions of SQL. However, they all support at least the major commands in a similar manner.

# RDBMS
DBMS means Relational Database Management System. The data in DBMS is stored in database objects called tables. Table is a collection of related data entries and consists of columns and rows.
- [MySQL/MariaDB](https://mariadb.org/) : MariaDB Server is one of the most popular open source relational databases.It is part of most cloud offerings and the default in most Linux distributions.
- [MS SQL Server]()
- [PostgreSQL](https://www.postgresql.org/) : PostgreSQL is a powerful, open source object-relational database system 
- MongoDB
- SQLite
- [Clickhouse](https://github.com/ClickHouse/ClickHouse) : An open-source column-oriented database management system that allows generating analytical data reports in real-time.
- [Hive](https://hive.apache.org/) : A distributed, fault-tolerant data warehouse system that enables analytics at a massive scale and facilitates reading, writing, and managing petabytes of data residing in distributed storage using SQL.
- [Oracle]
- Microsoft Access
- DB2

# Syntax
- A database contains one or more tables. Each table is dentified by a name. Tables contains colomns and records/rows of data.
- SQL keywords are NOT case sensitive: select = SELECT
- Some database system require a semicolon ; at the end of each SQL statement

# Manipulate
## Database
- CREATE DATABASE
- ALTER DATABASE

## Table
- CREATE TABLE
- ALTER TABLE
- DROP TABLE

## Data
- SELECT : result stored in result-set
  - SELECT column1, column2 FROM table_name WHERE condition;
  - SELECT * FROM table_name;
  - SELECT DISTINCT column1, column2;  
    - SELECT COUNT(DISTINCT column) FROM table;
    - SELECT Count(*) AS count FROM (SELECT DISTINCT column FROM table);
  - SELECT TOP 
    - SELECT TOP number|percent;
    - SELECT * LIMIT number;
    - SELECT FETCH FIRST number ROWS ONLY;
  - Alias : give a name to a column or table
    - SELECT CONCAT(column1, column2) AS column3
    - SELECT a.column1, b.column2 FROM TABLE1 AS a, TABLE2 AS b
  - INTO : 
    - SELECT column INTO new_table FROM table WHERE condition;
    
- INSERT INTO
  - Add values for Specified columns: 
    - INSERT INTO table(column1, column3) VALUES (value1, value3);
  - Add values for all columns: 
    - INSERT INTO table VALUES (value1, value2, value3);
  - Insert into Select another table: 
    - INSERT INTO table2(column1, column2) SELECT column1, column2 FROM table WHERE condition;
- UPDATE
  - UPDATE table SET column1 = value1, column2 = value2 WHERE condition
- DELETE
  - DELETE FROM table_name WHERE condition;

## Condition
Operators can be used in the WHERE clause:
- = < > >= <= <> != BETWEEN AND OR NOT 
- LIKE '%value'   // % represent zero or multiple characters, start or end or contain
- IN 
  - IN ('value1', 'value2'); 
  - IN (SELECT STATEMENT);
- IS NULL, IS NOT NULL
- BETWEEN 10 AND 20 
- EXISTS: Test for the existence of any record in a subquery, return TRUE if exists one or more
  - SELECT * FROM table WHERE EXISTS (SELECT column FROM table WHERE condition);
- ANY/ALL: perform a comparison between a single column value and a range of other values.
  - ANY: return TRUE if ANY of the subsequece values meet the condition
  - ALL : return TRUE if ALL of the subsequece values meet the condition
- CASE: Return a value when the condition is met, can used to replaced with any value:
```sql
SELECT column, 
CASE 
    WHEN column > 0 THEN 'value1'
    WHEN column < 0 THEN 'value2'
    ELSE 'value3'
END AS value
FROM table;

SELECT column, column2 FROM table ORDER BY
(CASE
    WHEN column IS NOT NULL THEN column
    ELSE column2
END);

```

## ORDER BY
Used to sort the result-set in ascending or descending order
- SELECT * FROM table ORDER BY column1, column2;
  - SELECT * FROM table WHERE column = ANY (SELECT column FROM table2 WHERE condition)
- SELECT * FROM table ORDER BY column1 ASC, column2 DESC;

## Function
- MIN / MAX
  - SELECT MIN(column) AS min
- COUNT(column)
- AVG(column)
- SUM(column)

## JOIN
A JOIN clause is used to combine rows from two or more tables, based on a related column between them
- INNER : matching values in both tables
- LEFT : all records from left table, matched records from right one
- RIGHT : opposite
- FULL : match in either left or right table
- Self : SELECT A.column AS column1, B.column AS column2
```sql
SELECT * from table1 
JOIN table2 ON table1.column = table2.column;
 
SELECT A.column AS column1, B.column AS column2 
FROM table A, table B
WHERE A.column1 <> B.column1 
```

## UNION
Combine the result-set of two or more SELECT statements, the columns should be same.
- UNION : select distinct values 
- UNION ALL : select duplicate values

## GROUP BY 
Group rows that have the same values into summary rows.Used with aggregate function COUNT(), MAX(), SUM(), AVG():
- SELECT COUNT(column1), column2 FROM table GROUP BY column3;

## HAVING
The HAVING clause was added to SQL as a condition cause WHERE cannot be used with aggregate functions.
- SELECT COUNT(column) AS a FROM table WHERE condition GROUP BY column HAVING a > 5;

## 


# Reference
- [SQL-All_in_One](https://medium.com/@tanuurajput689/sql-cdc75a43563b)


