# [Intent](https://developer.android.com/reference/android/content/Intent)
 An Intent is an abstract description of an operation to be performed. It is a communication tool between components, describing the component to start and carries any necessary data. 
 
## `Use Cases`
### Starting an Activity
 You can start a new instance of an Activity by passing an Intent to method as follows:
- startActivity (Intent)
- startActivity (Intent, Bundle)
- startActivityForResult(Intent)   : receive result from the activity when finished

### Service
- startService(Intent)
- bindService(Intent)

### Broadcast
 You can deliver a broadcast to other apps by passing an Intent to :
- sendBroadcast() 
- sendOrderedBroadcast()
 
## `Attributes`
### 1.ComponentName
Explicit intent use full name of target component to set intent, use _getIntent.getComponent()_ to get the object.
- setClass()
- setClassName()
- setComponent()

### 2.Action
A string that specifies the generic action to perform (such as view or pick).

### 3.Category
A string containing additional information about the kind of component that should handle the intent.
- CATEGORY_BROWSABLE : The target activity allows itself to be started by a web browser to display data referenced by a link.
- CATEGORY_LAUNCHER : The activity is the initial activity of a task and is listed in the system's application launcher.

### 4.Data
The URI (a Uri object) that references the data to be acted on and/or the MIME type of that data.
- setData() : set the data URI

### 5.Extras
Key-value pairs that carry additional information required to accomplish the requested action. 
- intent.putExtra() : add extra data
- intent.putExtras(Bundle) : create a Bundle object with all the extra data and insert in the Intent

## `Type`
 If you know which component could finish the action, then you can specify the application. Instead you need to declare districts 
### Explicit Intents
Launch the secified component by the name of component.
```java
Type1:  
Intent intent = new Intent(this, JumpToActivity.class);
intent.setData(Uri.parse(url));
startActivity(intent);

Type2:
Intent intent = new Intent();
intent.setClass(This.class, Jump.class);

Type3:
Intent intent = new Intent();
intent.setComponent(new ComponentName(This.class, JumpToActivity.class));
```
### Implicit Intents
Declare a general action to perform, which allows a component from another app to handle it.
![image](https://user-images.githubusercontent.com/22486282/226297452-d656c47b-3cc3-4f66-b541-b4344f205822.png)

- Type1: jump by action and intent-filter
```java
Intent intent = new Intent();
intent.setAction("com.jayway.jump");
```

```xml
Set the Destination Activity in xml:
<activity android:name=".JumpToActivity" >  
    <intent-filter>  
        <action android:name="com.jayway.jump"/>  
        <category android:name="android.intent.category.DEFAULT" />  
    </intent-filter>  
</activity>

```
- Type2: jump by uri and intent-filter
```xml
<activity
            android:name=".GoodsDetailActivity"
            android:theme="@style/AppTheme">
            <intent-filter>
                <data android:scheme="jayway" android:host="goods" android:path="/goodsDetail" android:port="8080"/>
                <category android:name="android.intent.category.DEFAULT"/>
                <action android:name="android.intent.action.VIEW"/>
                <category android:name="android.intent.category.BROWSABLE"/>
            </intent-filter>
        </activity>
```
 When startActivity() is called, the system examines all of the installed apps to determine which ones can handle this kind of intent.
 ```java
Second Activity get infoï¼š
Uri uri = getIntent().getData();
if (uri != null) {
    String url = uri.toString();
    String scheme = uri.getScheme();
    String host = uri.getHost();
    int port = uri.getPort();
    String path = uri.getPath();
    List<String> pathSegments = uri.getPathSegments();
    String query = uri.getQuery();
    String goodsId = uri.getQueryParameter("goodsId");
}
```
Trigger by create a new intent:
 ```java
Intent intent = new Intent(Intent.ACTION_VIEW,Uri.parse("jayway://goods:8080/goodsDetail?goodsId=20170112")); 
startActivity(intent);
```
Trigger by create a web link(BROWSABLE):
```html
<a href = "jayway://goods:8080/goodsDetail?goodsId=20170112">click here</a>
```


## Reference
- [components-android](https://github.com/krizzsk/HackersCave4StaticAndroidSec/blob/main/Basic%20Android/components-android.md)  @krizzsk
